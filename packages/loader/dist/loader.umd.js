!function(e,i){"object"==typeof exports&&"undefined"!=typeof module?i(exports):"function"==typeof define&&define.amd?define(["exports"],i):i(((e=e||self).google=e.google||{},e.google.maps=e.google.maps||{},e.google.maps.plugins=e.google.maps.plugins||{},e.google.maps.plugins.loader={}))}(this,(function(e){"use strict";function i(e,i){for(var t=0;t<i.length;t++){var a=i[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var t=function(){function e(i){var t=i.apiKey,a=i.libraries,n=void 0===a?[]:a,l=i.channel,s=i.language,o=i.clientId,r=i.region,c=i.version;!function(e,i){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}(this,e),this.CALLBACK="__google_maps_callback",this.URL="https://maps.googleapis.com/maps/api/js",this.callbacks=[],this.done=!1,this.loading=!1,this.version=c,this.apiKey=t,this.libraries=n,this.channel=l,this.language=s,this.clientId=o,this.region=r}var t,a,n;return t=e,(a=[{key:"createUrl",value:function(){var e=this.URL;return e+="?callback="+this.CALLBACK,this.apiKey&&(e+="&key="+this.apiKey),this.libraries.length>0&&(e+="&libraries="+this.libraries.join(",")),this.clientId&&(e+="&client="+this.clientId),this.channel&&(e+="&channel="+this.channel),this.language&&(e+="&language="+this.language),this.region&&(e+="&region="+this.region),this.version&&(e+="&v="+this.version),e}},{key:"load",value:function(){return this.loadPromise()}},{key:"loadPromise",value:function(){var e=this;return new Promise((function(i,t){e.loadCallback((function(e){e?t(e):i()}))}))}},{key:"loadCallback",value:function(e){this.callbacks.push(e),this.execute()}},{key:"setScript",value:function(){var e=this.createUrl(),i=document.createElement("script");i.type="text/javascript",i.src=e,i.onerror=this.loadErrorCallback,i.defer=!0,i.async=!0,document.head.appendChild(i)}},{key:"loadErrorCallback",value:function(e){this.onerrorEvent=e,this.callback()}},{key:"setCallback",value:function(){window[this.CALLBACK]=this.callback.bind(this)}},{key:"callback",value:function(){var e=this;this.done=!0,this.loading=!1,this.callbacks.forEach((function(i){i(e.onerrorEvent)})),this.callbacks=[]}},{key:"execute",value:function(){this.done?this.callback():this.loading||(this.loading=!0,this.setCallback(),this.setScript())}}])&&i(t.prototype,a),n&&i(t,n),e}();e.Loader=t,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=loader.umd.js.map
