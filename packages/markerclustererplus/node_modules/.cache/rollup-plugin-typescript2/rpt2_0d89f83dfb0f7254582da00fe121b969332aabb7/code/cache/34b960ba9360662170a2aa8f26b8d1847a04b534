{"code":"/**\r\n * Copyright 2019 Google LLC. All Rights Reserved.\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *      http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\nimport { OverlayViewSafe } from \"./overlay-view-safe\";\r\n/**\r\n * A cluster icon.\r\n */\r\nexport class ClusterIcon extends OverlayViewSafe {\r\n    /**\r\n     * @param cluster_ The cluster with which the icon is to be associated.\r\n     * @param styles_ An array of {@link ClusterIconStyle} defining the cluster icons\r\n     *  to use for various cluster sizes.\r\n     */\r\n    constructor(cluster_, styles_) {\r\n        super();\r\n        this.cluster_ = cluster_;\r\n        this.styles_ = styles_;\r\n        this.className_ = this.cluster_.getMarkerClusterer().getClusterClass();\r\n        this.center_ = null;\r\n        this.div_ = null;\r\n        this.sums_ = null;\r\n        this.visible_ = false;\r\n        this.setMap(cluster_.getMap()); // Note: this causes onAdd to be called\r\n    }\r\n    /**\r\n     * Adds the icon to the DOM.\r\n     */\r\n    onAdd() {\r\n        let cMouseDownInCluster;\r\n        let cDraggingMapByCluster;\r\n        const mc = this.cluster_.getMarkerClusterer();\r\n        const [major, minor] = google.maps.version.split(\".\");\r\n        const gmVersion = parseInt(major, 10) * 100 + parseInt(minor, 10);\r\n        this.div_ = document.createElement(\"div\");\r\n        this.div_.className = this.className_;\r\n        if (this.visible_) {\r\n            this.show();\r\n        }\r\n        this.getPanes().overlayMouseTarget.appendChild(this.div_);\r\n        // Fix for Issue 157\r\n        this.boundsChangedListener_ = google.maps.event.addListener(this.getMap(), \"bounds_changed\", function () {\r\n            cDraggingMapByCluster = cMouseDownInCluster;\r\n        });\r\n        google.maps.event.addDomListener(this.div_, \"mousedown\", () => {\r\n            cMouseDownInCluster = true;\r\n            cDraggingMapByCluster = false;\r\n        });\r\n        // March 1, 2018: Fix for this 3.32 exp bug, https://issuetracker.google.com/issues/73571522\r\n        // But it doesn't work with earlier releases so do a version check.\r\n        if (gmVersion >= 332) {\r\n            // Ugly version-dependent code\r\n            google.maps.event.addDomListener(this.div_, \"touchstart\", e => {\r\n                e.stopPropagation();\r\n            });\r\n        }\r\n        google.maps.event.addDomListener(this.div_, \"click\", e => {\r\n            cMouseDownInCluster = false;\r\n            if (!cDraggingMapByCluster) {\r\n                /**\r\n                 * This event is fired when a cluster marker is clicked.\r\n                 * @name MarkerClusterer#click\r\n                 * @param {Cluster} c The cluster that was clicked.\r\n                 * @event\r\n                 */\r\n                google.maps.event.trigger(mc, \"click\", this.cluster_);\r\n                google.maps.event.trigger(mc, \"clusterclick\", this.cluster_); // deprecated name\r\n                // The default click handler follows. Disable it by setting\r\n                // the zoomOnClick property to false.\r\n                if (mc.getZoomOnClick()) {\r\n                    // Zoom into the cluster.\r\n                    const mz = mc.getMaxZoom();\r\n                    const theBounds = this.cluster_.getBounds();\r\n                    mc.getMap().fitBounds(theBounds);\r\n                    // There is a fix for Issue 170 here:\r\n                    setTimeout(function () {\r\n                        mc.getMap().fitBounds(theBounds);\r\n                        // Don't zoom beyond the max zoom level\r\n                        if (mz !== null && mc.getMap().getZoom() > mz) {\r\n                            mc.getMap().setZoom(mz + 1);\r\n                        }\r\n                    }, 100);\r\n                }\r\n                // Prevent event propagation to the map:\r\n                e.cancelBubble = true;\r\n                if (e.stopPropagation) {\r\n                    e.stopPropagation();\r\n                }\r\n            }\r\n        });\r\n        google.maps.event.addDomListener(this.div_, \"mouseover\", () => {\r\n            /**\r\n             * This event is fired when the mouse moves over a cluster marker.\r\n             * @name MarkerClusterer#mouseover\r\n             * @param {Cluster} c The cluster that the mouse moved over.\r\n             * @event\r\n             */\r\n            google.maps.event.trigger(mc, \"mouseover\", this.cluster_);\r\n        });\r\n        google.maps.event.addDomListener(this.div_, \"mouseout\", () => {\r\n            /**\r\n             * This event is fired when the mouse moves out of a cluster marker.\r\n             * @name MarkerClusterer#mouseout\r\n             * @param {Cluster} c The cluster that the mouse moved out of.\r\n             * @event\r\n             */\r\n            google.maps.event.trigger(mc, \"mouseout\", this.cluster_);\r\n        });\r\n    }\r\n    /**\r\n     * Removes the icon from the DOM.\r\n     */\r\n    onRemove() {\r\n        if (this.div_ && this.div_.parentNode) {\r\n            this.hide();\r\n            google.maps.event.removeListener(this.boundsChangedListener_);\r\n            google.maps.event.clearInstanceListeners(this.div_);\r\n            this.div_.parentNode.removeChild(this.div_);\r\n            this.div_ = null;\r\n        }\r\n    }\r\n    /**\r\n     * Draws the icon.\r\n     */\r\n    draw() {\r\n        if (this.visible_) {\r\n            const pos = this.getPosFromLatLng_(this.center_);\r\n            this.div_.style.top = pos.y + \"px\";\r\n            this.div_.style.left = pos.x + \"px\";\r\n        }\r\n    }\r\n    /**\r\n     * Hides the icon.\r\n     */\r\n    hide() {\r\n        if (this.div_) {\r\n            this.div_.style.display = \"none\";\r\n        }\r\n        this.visible_ = false;\r\n    }\r\n    /**\r\n     * Positions and shows the icon.\r\n     */\r\n    show() {\r\n        if (this.div_) {\r\n            const mc = this.cluster_.getMarkerClusterer();\r\n            const ariaLabel = mc.ariaLabelFn(this.sums_.text);\r\n            // NOTE: values must be specified in px units\r\n            const bp = this.backgroundPosition_.split(\" \");\r\n            const spriteH = parseInt(bp[0].replace(/^\\s+|\\s+$/g, \"\"), 10);\r\n            const spriteV = parseInt(bp[1].replace(/^\\s+|\\s+$/g, \"\"), 10);\r\n            this.div_.style.cssText = this.createCss_(this.getPosFromLatLng_(this.center_));\r\n            let imgDimensions = \"\";\r\n            if (this.cluster_.getMarkerClusterer().getEnableRetinaIcons()) {\r\n                imgDimensions = `width: ${this.width_}px; height: ${this.height_}px`;\r\n            }\r\n            else {\r\n                const [Y1, X1, Y2, X2] = [\r\n                    -1 * spriteV,\r\n                    -1 * spriteH + this.width_,\r\n                    -1 * spriteV + this.height_,\r\n                    -1 * spriteH\r\n                ];\r\n                imgDimensions = `clip: rect(${Y1}px, ${X1}px, ${Y2}px, ${X2}px)`;\r\n            }\r\n            const imgStyle = [\r\n                `position: absolute`,\r\n                `top: ${spriteV}px`,\r\n                `left: ${spriteH}px`,\r\n                imgDimensions\r\n            ].join(\";\");\r\n            const divStyle = [\r\n                `position: absolute`,\r\n                `top: ${this.anchorText_[0]}px`,\r\n                `left: ${this.anchorText_[1]}px`,\r\n                `color: ${this.textColor_}`,\r\n                `font-size: ${this.textSize_}px`,\r\n                `font-family: ${this.fontFamily_}`,\r\n                `font-weight: ${this.fontWeight_}`,\r\n                `font-style: ${this.fontStyle_}`,\r\n                `text-decoration: ${this.textDecoration_}`,\r\n                `text-align: center`,\r\n                `width: ${this.width_}px`,\r\n                `line-height: ${this.height_}px`\r\n            ].join(\";\");\r\n            this.div_.innerHTML = `\n<img alt='${this.sums_.text}' aria-hidden=\"true\" src=\"${this.url_}\" style=\"${imgStyle}\"/>\n<div aria-label=\"${ariaLabel}\" tabindex=\"0\" style=\"${divStyle}\">\n  <span aria-hidden=\"true\">${this.sums_.text}</span>\n</div>\n`;\r\n            if (typeof this.sums_.title === \"undefined\" || this.sums_.title === \"\") {\r\n                this.div_.title = this.cluster_.getMarkerClusterer().getTitle();\r\n            }\r\n            else {\r\n                this.div_.title = this.sums_.title;\r\n            }\r\n            this.div_.style.display = \"\";\r\n        }\r\n        this.visible_ = true;\r\n    }\r\n    /**\r\n     * Sets the icon styles to the appropriate element in the styles array.\r\n     *\r\n     * @ignore\r\n     * @param sums The icon label text and styles index.\r\n     */\r\n    useStyle(sums) {\r\n        this.sums_ = sums;\r\n        let index = Math.max(0, sums.index - 1);\r\n        index = Math.min(this.styles_.length - 1, index);\r\n        const style = this.styles_[index];\r\n        this.url_ = style.url;\r\n        this.height_ = style.height;\r\n        this.width_ = style.width;\r\n        this.anchorText_ = style.anchorText || [0, 0];\r\n        this.anchorIcon_ = style.anchorIcon || [\r\n            Math.floor(this.height_ / 2),\r\n            Math.floor(this.width_ / 2)\r\n        ];\r\n        this.textColor_ = style.textColor || \"black\";\r\n        this.textSize_ = style.textSize || 11;\r\n        this.textDecoration_ = style.textDecoration || \"none\";\r\n        this.fontWeight_ = style.fontWeight || \"bold\";\r\n        this.fontStyle_ = style.fontStyle || \"normal\";\r\n        this.fontFamily_ = style.fontFamily || \"Arial,sans-serif\";\r\n        this.backgroundPosition_ = style.backgroundPosition || \"0 0\";\r\n    }\r\n    /**\r\n     * Sets the position at which to center the icon.\r\n     *\r\n     * @param center The latlng to set as the center.\r\n     */\r\n    setCenter(center) {\r\n        this.center_ = center;\r\n    }\r\n    /**\r\n     * Creates the `cssText` style parameter based on the position of the icon.\r\n     *\r\n     * @param pos The position of the icon.\r\n     * @return The CSS style text.\r\n     */\r\n    createCss_(pos) {\r\n        return [\r\n            `z-index: ${this.cluster_.getMarkerClusterer().getZIndex()}`,\r\n            \"cursor: pointer\",\r\n            `position: absolute; top: ${pos.y}px; left: ${pos.x}px`,\r\n            `width: ${this.width_}px; height: ${this.height_}px`,\r\n            \"-webkit-user-select: none\",\r\n            \"-khtml-user-select: none\",\r\n            \"-moz-user-select: none\",\r\n            \"-o-user-select: none\",\r\n            \"user-select: none\"\r\n        ].join(\";\");\r\n    }\r\n    /**\r\n     * Returns the position at which to place the DIV depending on the latlng.\r\n     *\r\n     * @param latlng The position in latlng.\r\n     * @return The position in pixels.\r\n     */\r\n    getPosFromLatLng_(latlng) {\r\n        const pos = this.getProjection().fromLatLngToDivPixel(latlng);\r\n        pos.x = Math.floor(pos.x - this.anchorIcon_[1]);\r\n        pos.y = Math.floor(pos.y - this.anchorIcon_[0]);\r\n        return pos;\r\n    }\r\n}\r\n//# sourceMappingURL=cluster-icon.js.map","references":["/home/travis/build/googlemaps/v3-utility-library/packages/markerclustererplus/src/cluster.ts","/home/travis/build/googlemaps/v3-utility-library/packages/markerclustererplus/src/overlay-view-safe.ts"],"map":"{\"version\":3,\"file\":\"cluster-icon.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../src/cluster-icon.ts\"],\"names\":[],\"mappings\":\"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\"}","dts":{"name":"/home/travis/build/googlemaps/v3-utility-library/packages/markerclustererplus/cluster-icon.d.ts","writeByteOrderMark":false,"text":"/**\r\n * Copyright 2019 Google LLC. All Rights Reserved.\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *      http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n/// <reference types=\"googlemaps\" />\r\n/**\r\n * This class represents the object for values in the `styles` array passed\r\n * to the {@link MarkerClusterer} constructor. The element in this array that is used to\r\n * style the cluster icon is determined by calling the `calculator` function.\r\n */\r\nimport { Cluster } from \"./cluster\";\r\nimport { OverlayViewSafe } from \"./overlay-view-safe\";\r\nexport interface ClusterIconStyle {\r\n    /** The URL of the cluster icon image file. Required. */\r\n    url: string;\r\n    /** Height The display height (in pixels) of the cluster icon. Required. */\r\n    height: number;\r\n    /** Width The display width (in pixels) of the cluster icon. Required. */\r\n    width: number;\r\n    /**\r\n     * The position (in pixels) from the center of the cluster icon to\r\n     * where the text label is to be centered and drawn. The format is `[yoffset, xoffset]`\r\n     * where `yoffset` increases as you go down from center and `xoffset`\r\n     * increases to the right of center. The default is `[0, 0]`.\r\n     */\r\n    anchorText?: [number, number];\r\n    /**\r\n     * The anchor position (in pixels) of the cluster icon. This is the\r\n     * spot on the cluster icon that is to be aligned with the cluster position. The format is\r\n     * `[yoffset, xoffset]` where `yoffset` increases as you go down and\r\n     * `xoffset` increases to the right of the top-left corner of the icon. The default\r\n     * anchor position is the center of the cluster icon.\r\n     */\r\n    anchorIcon?: [number, number];\r\n    /**\r\n     * The color of the label text shown on the cluster icon.\r\n     * @default `\"black\"`\r\n     */\r\n    textColor?: string;\r\n    /** The size (in pixels) of the label text shown on the cluster icon.\r\n     * @default `11`\r\n     */\r\n    textSize?: number;\r\n    /**\r\n     * The value of the CSS `text-decoration`\r\n     * property for the label text shown on the cluster icon.\r\n     *\r\n     * @default `\"none\"`\r\n     */\r\n    textDecoration?: string;\r\n    /**\r\n     * The value of the CSS `font-weight`\r\n     * property for the label text shown on the cluster icon.\r\n     *\r\n     *  @default `\"bold\"`\r\n     */\r\n    fontWeight?: string;\r\n    /**\r\n     *  The value of the CSS `font-style`\r\n     *  property for the label text shown on the cluster icon.\r\n     *\r\n     *  @default `\"normal\"`\r\n     */\r\n    fontStyle?: string;\r\n    /**\r\n     *  The value of the CSS `font-family`\r\n     *  property for the label text shown on the cluster icon.\r\n     *  @default `\"Arial,sans-serif\"`\r\n     */\r\n    fontFamily?: string;\r\n    /**\r\n     * The position of the cluster icon image\r\n     * within the image defined by `url`. The format is `\"xpos ypos\"`\r\n     * (the same format as for the CSS `background-position` property). You must set\r\n     * this property appropriately when the image defined by `url` represents a sprite\r\n     * containing multiple images. Note that the position <i>must</i> be specified in px units.\r\n     *\r\n     * @default `\"0 0\"`\r\n     */\r\n    backgroundPosition?: string;\r\n}\r\n/**\r\n * @description This is an object containing general information about a cluster icon. This is\r\n *  the object that a `calculator` function returns.\r\n */\r\nexport interface ClusterIconInfo {\r\n    /**\r\n     * The text of the label to be shown on the cluster icon.\r\n     */\r\n    text: string;\r\n    /**\r\n     * The index plus 1 of the element in the `styles`\r\n     */\r\n    index: number;\r\n    /**\r\n     * The tooltip to display when the mouse moves over the cluster icon.\r\n     * If this value is `undefined` or `\"\"`, `title` is set to the\r\n     * value of the `title` property passed to the MarkerClusterer.\r\n     */\r\n    title: string;\r\n}\r\n/**\r\n * A cluster icon.\r\n */\r\nexport declare class ClusterIcon extends OverlayViewSafe {\r\n    private cluster_;\r\n    private styles_;\r\n    private className_;\r\n    private center_;\r\n    private div_;\r\n    private sums_;\r\n    private visible_;\r\n    private url_;\r\n    private height_;\r\n    private width_;\r\n    private anchorText_;\r\n    private anchorIcon_;\r\n    private textColor_;\r\n    private textSize_;\r\n    private textDecoration_;\r\n    private fontWeight_;\r\n    private fontStyle_;\r\n    private fontFamily_;\r\n    private backgroundPosition_;\r\n    private boundsChangedListener_;\r\n    /**\r\n     * @param cluster_ The cluster with which the icon is to be associated.\r\n     * @param styles_ An array of {@link ClusterIconStyle} defining the cluster icons\r\n     *  to use for various cluster sizes.\r\n     */\r\n    constructor(cluster_: Cluster, styles_: ClusterIconStyle[]);\r\n    /**\r\n     * Adds the icon to the DOM.\r\n     */\r\n    onAdd(): void;\r\n    /**\r\n     * Removes the icon from the DOM.\r\n     */\r\n    onRemove(): void;\r\n    /**\r\n     * Draws the icon.\r\n     */\r\n    draw(): void;\r\n    /**\r\n     * Hides the icon.\r\n     */\r\n    hide(): void;\r\n    /**\r\n     * Positions and shows the icon.\r\n     */\r\n    show(): void;\r\n    /**\r\n     * Sets the icon styles to the appropriate element in the styles array.\r\n     *\r\n     * @ignore\r\n     * @param sums The icon label text and styles index.\r\n     */\r\n    useStyle(sums: ClusterIconInfo): void;\r\n    /**\r\n     * Sets the position at which to center the icon.\r\n     *\r\n     * @param center The latlng to set as the center.\r\n     */\r\n    setCenter(center: google.maps.LatLng): void;\r\n    /**\r\n     * Creates the `cssText` style parameter based on the position of the icon.\r\n     *\r\n     * @param pos The position of the icon.\r\n     * @return The CSS style text.\r\n     */\r\n    private createCss_;\r\n    /**\r\n     * Returns the position at which to place the DIV depending on the latlng.\r\n     *\r\n     * @param latlng The position in latlng.\r\n     * @return The position in pixels.\r\n     */\r\n    private getPosFromLatLng_;\r\n}\r\n"}}
